<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <title> Inlämningsuppgift 2: JavaScript BI plug-in </title>
</head>

<body>
    <h2>airbnb Graphs</h2>
    <div id="myDiv">
        <!-- Plotly chart will be drawn inside this DIV -->
    </div>
    <div id="myHistogram">
        <!-- Plotly chart will be drawn inside this DIV -->
    </div>
    <div id="gästerHistogram">
        <!-- Plotly chart will be drawn inside this DIV -->
    </div>
    <div id="piechart">
        <!-- Plotly chart will be drawn inside this DIV -->
    </div>



    <script type="text/javascript" src="airbnb.js"> // kopplling till js filen
    </script>

    <script>
        var prices = [];
        for (i = 0; i < airbnb.length; i++) {
            //console.log(airbnb[i].price)
            prices.push(airbnb[i].price)
        }

        var reviews = [];
        for (i = 0; i < airbnb.length; i++) {
            //console.log(airbnb[i].reviews)
            reviews.push(airbnb[i].reviews)
        }

        var last_modified = [];
        for (i = 0; i < airbnb.length; i++) {
            //console.log(airbnb[i].last_modified)
            last_modified.push(airbnb[i].last_modified)
        }


        var accommodates = [];
        for (i = 0; i < airbnb.length; i++) {
            //console.log(airbnb[i].accommodates)
            accommodates.push(airbnb[i].accommodates)
        }

        var room_type = [];
        for (i = 0; i < airbnb.length; i++) {
            //console.log(airbnb[i].room_type)
            room_type.push(airbnb[i].room_type)
        }


        var bedrooms = [];
        for (i = 0; i < airbnb.length; i++) {
            //console.log(airbnb[i].bedrooms)
            bedrooms.push(airbnb[i].bedrooms)
        }

        var priceRev = {
            x: prices,
            y: reviews,
            mode: 'markers',
            type: 'scatter'
        };

        var data = [priceRev];

        Plotly.newPlot('myDiv', data);





        var histogram = {
            x: prices,
            type: 'histogram'
        };

        var data = [histogram];

        Plotly.newPlot('myHistogram', data);


        var histogram2 = {
            x: accommodates,

            type: 'histogram'
        };

        var data = [histogram2];

        Plotly.newPlot('gästerHistogram', data);


        var data_pie = [{
            values: accommodates,
            labels: room_type,
            type: 'pie'
        }];
        var layout = {
            height: 400,
            width: 500
        };
        Plotly.newPlot('piechart', data_pie, layout)
    </script>




</body>

</html>